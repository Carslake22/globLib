<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GlobLib: TIMERS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GlobLib
   </div>
   <div id="projectbrief">HAL and API libraries for MCUs and hardware.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../../../doc/doxygen/html/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../../../common/doc/doxygen/html/index.html"><span>Common</span></a></li>
      <li><a href="index.html"><span>ATTINY13A</span></a></li>
      <li><a href="../../../../STM32F103CB/doc/doxygen/html/index.html"><span>STM32F103CB</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__TIMERS.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TIMERS<div class="ingroups"><a class="el" href="group__ATTINY13A.html">ATTINY13A</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains low level functions for timer interaction.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:attiny13a__timer_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="attiny13a__timer_8h.html">attiny13a_timer.h</a></td></tr>
<tr class="memdesc:attiny13a__timer_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for attiny13a timers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6658f0e96b04a44a8027def327881815"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6658f0e96b04a44a8027def327881815"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga6658f0e96b04a44a8027def327881815">IC_PIN</a>&#160;&#160;&#160;<a class="el" href="group__GPIO.html#gga6fd15ce64110e98b208bfe7a4ed33f52a4a438ef04f4b0baa53c26cb6046c0973">PIN4</a></td></tr>
<tr class="memdesc:ga6658f0e96b04a44a8027def327881815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin used for input capture. <br /></td></tr>
<tr class="separator:ga6658f0e96b04a44a8027def327881815"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga90705a07ca1457497ed2aee49a9d3993"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga90705a07ca1457497ed2aee49a9d3993">TIMER_setupCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint16_t frequency, void(*handler)(void))</td></tr>
<tr class="memdesc:ga90705a07ca1457497ed2aee49a9d3993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for standard count with interrupt trigging the function handler on timeout.  <a href="#ga90705a07ca1457497ed2aee49a9d3993">More...</a><br /></td></tr>
<tr class="separator:ga90705a07ca1457497ed2aee49a9d3993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel)</td></tr>
<tr class="memdesc:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for input capture.  <a href="#ga7ea715ab00d0aea426e3cf07e2ef2d90">More...</a><br /></td></tr>
<tr class="separator:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65065da1fe04c0fa3f48d05ee6b7646d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga65065da1fe04c0fa3f48d05ee6b7646d">TIMER_setupPWM</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel, uint16_t frequency, uint8_t duty)</td></tr>
<tr class="memdesc:ga65065da1fe04c0fa3f48d05ee6b7646d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for PWM mode.  <a href="#ga65065da1fe04c0fa3f48d05ee6b7646d">More...</a><br /></td></tr>
<tr class="separator:ga65065da1fe04c0fa3f48d05ee6b7646d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeca228046cf8f9802bca52aa7ca76604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaeca228046cf8f9802bca52aa7ca76604">TIMER_setupPulse</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel, uint16_t frequency, uint16_t pulse)</td></tr>
<tr class="memdesc:gaeca228046cf8f9802bca52aa7ca76604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for Pulse mode.  <a href="#gaeca228046cf8f9802bca52aa7ca76604">More...</a><br /></td></tr>
<tr class="separator:gaeca228046cf8f9802bca52aa7ca76604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaf92f9f10d48017bdd5d0e651f95083f5">TIMER_setPeriod</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint32_t period)</td></tr>
<tr class="memdesc:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the period for the timer. (in microseconds)  <a href="#gaf92f9f10d48017bdd5d0e651f95083f5">More...</a><br /></td></tr>
<tr class="separator:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga171e17f029aaf7de6979ee0281d839be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga171e17f029aaf7de6979ee0281d839be">TIMER_setFrequency</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint16_t frequency)</td></tr>
<tr class="memdesc:ga171e17f029aaf7de6979ee0281d839be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the frequency for the timer. (in hertz)  <a href="#ga171e17f029aaf7de6979ee0281d839be">More...</a><br /></td></tr>
<tr class="separator:ga171e17f029aaf7de6979ee0281d839be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae74c59768daded4fb2c42ffc74020ce6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel, uint8_t duty)</td></tr>
<tr class="memdesc:gae74c59768daded4fb2c42ffc74020ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the duty cycle for the waveform (PWM only, 0 - 100%).  <a href="#gae74c59768daded4fb2c42ffc74020ce6">More...</a><br /></td></tr>
<tr class="separator:gae74c59768daded4fb2c42ffc74020ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b21655cd6223fe14516654af702612c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga1b21655cd6223fe14516654af702612c">TIMER_setPulse</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel, uint16_t pulse)</td></tr>
<tr class="memdesc:ga1b21655cd6223fe14516654af702612c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the pulse width for the output. (in milliseconds)  <a href="#ga1b21655cd6223fe14516654af702612c">More...</a><br /></td></tr>
<tr class="separator:ga1b21655cd6223fe14516654af702612c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e3ef4a82283fcdf19b8f001f2fabdaa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga4e3ef4a82283fcdf19b8f001f2fabdaa">TIMER_getCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga4e3ef4a82283fcdf19b8f001f2fabdaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current value of a running timer.  <a href="#ga4e3ef4a82283fcdf19b8f001f2fabdaa">More...</a><br /></td></tr>
<tr class="separator:ga4e3ef4a82283fcdf19b8f001f2fabdaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44e0217e960c58c5c7fb3f02e391491a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga44e0217e960c58c5c7fb3f02e391491a">TIMER_setCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint8_t count)</td></tr>
<tr class="memdesc:ga44e0217e960c58c5c7fb3f02e391491a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current value of a running timer.  <a href="#ga44e0217e960c58c5c7fb3f02e391491a">More...</a><br /></td></tr>
<tr class="separator:ga44e0217e960c58c5c7fb3f02e391491a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab39a07fc41d00ec344ab35b28d917c9a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel)</td></tr>
<tr class="memdesc:gab39a07fc41d00ec344ab35b28d917c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last input capture time from a channel of a timer.  <a href="#gab39a07fc41d00ec344ab35b28d917c9a">More...</a><br /></td></tr>
<tr class="separator:gab39a07fc41d00ec344ab35b28d917c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gafa1edd534d18507fb4df3ee3c7b5d644">TIMER_enableISR</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, void(*handler)(void))</td></tr>
<tr class="memdesc:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ISR target for timeout.  <a href="#gafa1edd534d18507fb4df3ee3c7b5d644">More...</a><br /></td></tr>
<tr class="separator:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaf8d5d279b1747f3baf8b1940a3d2f6e4">TIMER_disableISR</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the timeout IRQ.  <a href="#gaf8d5d279b1747f3baf8b1940a3d2f6e4">More...</a><br /></td></tr>
<tr class="separator:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga4e9fa1f6cfe1ea93ca8910edc941763d">TIMER_pause</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause an already running timer.  <a href="#ga4e9fa1f6cfe1ea93ca8910edc941763d">More...</a><br /></td></tr>
<tr class="separator:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga302899b48a9a8647586d1d779d7f762c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga302899b48a9a8647586d1d779d7f762c">TIMER_resume</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga302899b48a9a8647586d1d779d7f762c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a paused timer.  <a href="#ga302899b48a9a8647586d1d779d7f762c">More...</a><br /></td></tr>
<tr class="separator:ga302899b48a9a8647586d1d779d7f762c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains low level functions for timer interaction. </p>
<p>The ATTINY13A has a single 8 bit timer with two output channels with output channels mapped to:</p>
<ul>
<li>Timer 0<ul>
<li>Channel 1 - PORT B, PIN 0</li>
<li>Channel 2 - PORT B, PIN 1</li>
</ul>
</li>
</ul>
<p>The low width of the timer means there are frequency and resolution restrictions. See the given function descriptions.</p>
<dl class="section note"><dt>Note</dt><dd>Some features of this module are disabled by default to save space in flash ROM. The follow should be done to enable these features:<ul>
<li>To use <a class="el" href="group__TIMERS.html#ga90705a07ca1457497ed2aee49a9d3993" title="Initialize given timer for standard count with interrupt trigging the function handler on timeout...">TIMER_setupCount()</a>, <a class="el" href="group__TIMERS.html#gaf92f9f10d48017bdd5d0e651f95083f5" title="Set the period for the timer. (in microseconds) ">TIMER_setPeriod()</a>, <a class="el" href="group__TIMERS.html#ga171e17f029aaf7de6979ee0281d839be" title="Set the frequency for the timer. (in hertz) ">TIMER_setFrequency()</a>, <a class="el" href="group__TIMERS.html#gafa1edd534d18507fb4df3ee3c7b5d644" title="Set the ISR target for timeout. ">TIMER_enableISR()</a> or <a class="el" href="group__TIMERS.html#gaf8d5d279b1747f3baf8b1940a3d2f6e4" title="Disable the timeout IRQ. ">TIMER_disableISR()</a> the TIMER_ISR flag needs to be uncommented in the Makefile.</li>
<li>To use <a class="el" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90" title="Initialize given timer for input capture. ">TIMER_setupIC()</a> or <a class="el" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a" title="Get the last input capture time from a channel of a timer. ">TIMER_getIC()</a> TIMER_IC flag needs to be uncommented in the Makefile.</li>
</ul>
</dd></dl>
<p>Many of the functions in the module have unused parameters. These parameters are kept in place for compatability with other MCUs.</p>
<dl class="section warning"><dt>Warning</dt><dd>Timer input capture and external interrupts (<a class="el" href="group__GPIO.html#ga5dd4fc84282bb9c7f13bf17e9fac8856" title="Setup interrupts on a gpio port / pin. ">GPIO_ISREnable()</a>) cannot both be used in the same application. Input caputre relies on external interrupt generation for triggers.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stuart Ianna </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 2018 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU GPLv3 </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>None </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd></dd></dl>
<dl class="section user"><dt>Compilers</dt><dd><ul>
<li>avr-gcc V4.9.2</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Working example</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stm32f103cb_core.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;coms128.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> up(<span class="keywordtype">void</span>);</div><div class="line"><span class="keyword">volatile</span> uint8_t flag;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    <span class="comment">//Clock setup</span></div><div class="line">    CLOCK_setSpeed(CLOCK_EX_8_OUT_72);</div><div class="line"></div><div class="line">    <span class="comment">//Serial setup</span></div><div class="line">    USART_setup(USART_2);</div><div class="line">    USART_setBaud(USART_2,USART_BAUD_115200);</div><div class="line">    COMS(USART_2);</div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 3 to call function &quot;up&quot; at 10Hz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#ga90705a07ca1457497ed2aee49a9d3993">TIMER_setupCount</a>(TIMER_3,20,&amp;up);               <span class="comment">//Period = 50000 -&gt; Resolution = 1us</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 1 for pulse width output at 1000Hz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gaeca228046cf8f9802bca52aa7ca76604">TIMER_setupPulse</a>(TIMER_1,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,1000,400);   <span class="comment">//400us pulse</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gaeca228046cf8f9802bca52aa7ca76604">TIMER_setupPulse</a>(TIMER_1,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,1000,50);    <span class="comment">//50us pulse</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 2 for PWM at 10kHz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#ga65065da1fe04c0fa3f48d05ee6b7646d">TIMER_setupPWM</a>(TIMER_2,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,10000,50);     <span class="comment">//50% duty cycle</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer four for input capture</span></div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(TIMER_4,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(TIMER_4,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(TIMER_4,CHANNEL_3);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(TIMER_4,CHANNEL_4);</div><div class="line"></div><div class="line">    <span class="comment">//Change duty cycle and pulse output</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a>(TIMER_1,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,80);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga1b21655cd6223fe14516654af702612c">TIMER_setPulse</a>(TIMER_1,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,100);</div><div class="line">    <a class="code" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a>(TIMER_1,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,10);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1){</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(flag){</div><div class="line"></div><div class="line">            flag = 0;</div><div class="line"></div><div class="line">            <span class="comment">//Time how long it takes to compete print function with TIMER_3</span></div><div class="line">            <a class="code" href="group__TIMERS.html#ga44e0217e960c58c5c7fb3f02e391491a">TIMER_setCount</a>(TIMER_3,0);</div><div class="line"></div><div class="line">            <span class="comment">//Print input capture values</span></div><div class="line">            printt(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(TIMER_4,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>));</div><div class="line">            printt(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(TIMER_4,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>));</div><div class="line">            printt(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(TIMER_4,CHANNEL_3));</div><div class="line">            printt(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(TIMER_4,CHANNEL_4));</div><div class="line"></div><div class="line">            printl(<a class="code" href="group__TIMERS.html#ga4e3ef4a82283fcdf19b8f001f2fabdaa">TIMER_getCount</a>(TIMER_3)); <span class="comment">//Printing the time difference</span></div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//This is called by TIMER_3 on timeout</span></div><div class="line"><span class="keywordtype">void</span> up(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    flag = 1;</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga59cf27ab194b377006b4dc9086df6328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timers channels available for each timer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075"></a>CHANNEL_1&#160;</td><td class="fielddoc">
<p>Channel 1. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91"></a>CHANNEL_2&#160;</td><td class="fielddoc">
<p>Channel 2. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="attiny13a__timer_8h_source.html#l00076">76</a> of file <a class="el" href="attiny13a__timer_8h_source.html">attiny13a_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga90028e095f2a7a5490b5e10109bb18c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main timers available on the MCU. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga90028e095f2a7a5490b5e10109bb18c4a1d3d9445cb6fc00112a01f7767149360"></a>TIMER_0&#160;</td><td class="fielddoc">
<p>Timer 0. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="attiny13a__timer_8h_source.html#l00068">68</a> of file <a class="el" href="attiny13a__timer_8h_source.html">attiny13a_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf8d5d279b1747f3baf8b1940a3d2f6e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_disableISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the timeout IRQ. </p>
<p>This disables any previous use of timeout interrupts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error. </dd></dl>

</div>
</div>
<a class="anchor" id="gafa1edd534d18507fb4df3ee3c7b5d644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_enableISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ISR target for timeout. </p>
<p>This feature can be used for Count, Pulse and PWM modes. Function is called on timeout event recursively until <a class="el" href="group__TIMERS.html#gaf8d5d279b1747f3baf8b1940a3d2f6e4" title="Disable the timeout IRQ. ">TIMER_disableISR()</a> is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">handler</td><td>The function to call on timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4e3ef4a82283fcdf19b8f001f2fabdaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TIMER_getCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current value of a running timer. </p>
<p>The resolution of the value returned depends of the frequency of timer as setup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current value of the timer. </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00297">297</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab39a07fc41d00ec344ab35b28d917c9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TIMER_getIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last input capture time from a channel of a timer. </p>
<p>The timer must be setup with <a class="el" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90" title="Initialize given timer for input capture. ">TIMER_setupIC()</a> for this function to work.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">channel</td><td>The timer channel to modify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function returns 0 if called twice when no reading has occured.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The last input capture time in microseconds </dd></dl>

</div>
</div>
<a class="anchor" id="ga4e9fa1f6cfe1ea93ca8910edc941763d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_pause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause an already running timer. </p>
<p>The timer must have been already setup to use this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00113">113</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga302899b48a9a8647586d1d779d7f762c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume a paused timer. </p>
<p>Due to the internal register configuration of the ATTINY13A the timer needs to be restarted with one of the setup functions. E.g <a class="el" href="group__TIMERS.html#ga90705a07ca1457497ed2aee49a9d3993" title="Initialize given timer for standard count with interrupt trigging the function handler on timeout...">TIMER_setupCount()</a></p>
<dl class="section warning"><dt>Warning</dt><dd>This should not be used to restart a paused timer for the ATTINY13a.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error. </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00122">122</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga44e0217e960c58c5c7fb3f02e391491a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current value of a running timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">count</td><td>The timer value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current value of the timer. </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00303">303</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae74c59768daded4fb2c42ffc74020ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setDuty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the duty cycle for the waveform (PWM only, 0 - 100%). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">channel</td><td>The timer chanel to modify </td></tr>
    <tr><td class="paramname">duty</td><td>The desired duty cycle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00312">312</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga171e17f029aaf7de6979ee0281d839be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the frequency for the timer. (in hertz) </p>
<p>The minimum and maximum frequency value that can be represented are dependant on the frequency of the main clock as specified:</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Minimum </th><th align="center">Maximum  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">40Hz </td><td align="center">10kHz </td></tr>
<tr>
<td>4.8MHz </td><td align="center">20Hz </td><td align="center">5kHz </td></tr>
<tr>
<td>1.2MHz </td><td align="center">5Hz </td><td align="center">2.5kHz </td></tr>
<tr>
<td>0.6MHz </td><td align="center">3Hz </td><td align="center">1.25kHz </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">frequency</td><td>The desired timeout frequency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PERIOD if the period is too long </dd></dl>

</div>
</div>
<a class="anchor" id="gaf92f9f10d48017bdd5d0e651f95083f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setPeriod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the period for the timer. (in microseconds) </p>
<p>The minimum and maximum periods that can be represented are dependant on the frequency of the main clock as specified:</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Minimum </th><th align="center">Maximum  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">100us </td><td align="center">25ms </td></tr>
<tr>
<td>4.8MHz </td><td align="center">200us </td><td align="center">50ms </td></tr>
<tr>
<td>1.2MHz </td><td align="center">800us </td><td align="center">200ms </td></tr>
<tr>
<td>0.6MHz </td><td align="center">1.6ms </td><td align="center">400ms </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">period</td><td>The desired timeout period. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PERIOD if the period is too long </dd></dl>

</div>
</div>
<a class="anchor" id="ga1b21655cd6223fe14516654af702612c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setPulse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pulse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the pulse width for the output. (in milliseconds) </p>
<p>The resolution and period of the pulse widths are limited by the clock frequency as follows:</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Period </th><th align="center">Resolution  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">6.8ms </td><td align="center">26.6us </td></tr>
<tr>
<td>4.8MHz </td><td align="center">13.6ms </td><td align="center">53.3us </td></tr>
<tr>
<td>1.2MHz </td><td align="center">13.5ms </td><td align="center">53.3us </td></tr>
<tr>
<td>0.6MHz </td><td align="center">27.9ms </td><td align="center">106us </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify (not used) </td></tr>
    <tr><td class="paramname">channel</td><td>The timer channel to modify </td></tr>
    <tr><td class="paramname">pulse</td><td>The desired pulse width. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PULSE if the pulse is too long </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00326">326</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga90705a07ca1457497ed2aee49a9d3993"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for standard count with interrupt trigging the function handler on timeout. </p>
<p>The minimum and maximum frequency value that can be represented are dependant on the frequency of the main clock as specified:</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Minimum </th><th align="center">Maximum  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">40Hz </td><td align="center">10kHz </td></tr>
<tr>
<td>4.8MHz </td><td align="center">20Hz </td><td align="center">5kHz </td></tr>
<tr>
<td>1.2MHz </td><td align="center">5Hz </td><td align="center">2.5kHz </td></tr>
<tr>
<td>0.6MHz </td><td align="center">3Hz </td><td align="center">1.25kHz </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup (not used) </td></tr>
    <tr><td class="paramname">handler</td><td>The function to call on timeout event. </td></tr>
    <tr><td class="paramname">frequency</td><td>The frequency of the timer count expiration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>TIMER_ISR needs to be uncommented in the makefile for this to work </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7ea715ab00d0aea426e3cf07e2ef2d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for input capture. </p>
<p>The input capture channel is fixed to PORTB, PIN4. This can be changed by adding the compiler flag -DIC_PIN=xxx, where xxx is the pin number defined by gpio_pin. </p><dl class="section warning"><dt>Warning</dt><dd>Input capture and external pin interrupts cannot be used at the same time, as input capture uses external interrupts. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>TIMER_IC needs to be uncommented in the makefile for this to work</dd></dl>
<p>The signal period and pulse resolution is dependant on the clock frequency of the device, as set in the Makefile.</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Period </th><th align="center">Resolution  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">6.8ms </td><td align="center">26.6us </td></tr>
<tr>
<td>4.8MHz </td><td align="center">13.6ms </td><td align="center">53.3us </td></tr>
<tr>
<td>1.2MHz </td><td align="center">13.5ms </td><td align="center">53.3us </td></tr>
<tr>
<td>0.6MHz </td><td align="center">27.9ms </td><td align="center">106us </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup (not used) </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. (not used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeca228046cf8f9802bca52aa7ca76604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupPulse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pulse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for Pulse mode. </p>
<p>The given timer number <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4" title="Main timers available on the MCU. ">timer_main</a> is now locked to this pulse or PWM modes.</p>
<p>All channels of this timer can only be used for pulse of PWM. Each channel must also share the same frequency. However each channel can be turned on and off</p>
<p>The signal period and pulse resolution is dependant on the clock frequency of the device, as set in the Makefile.</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Period </th><th align="center">Resolution  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">6.8ms </td><td align="center">26.6us </td></tr>
<tr>
<td>4.8MHz </td><td align="center">13.6ms </td><td align="center">53.3us </td></tr>
<tr>
<td>1.2MHz </td><td align="center">13.5ms </td><td align="center">53.3us </td></tr>
<tr>
<td>0.6MHz </td><td align="center">27.9ms </td><td align="center">106us </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup (not used) </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. </td></tr>
    <tr><td class="paramname">frequency</td><td>The frequency of the total signal. (not used) </td></tr>
    <tr><td class="paramname">pulse</td><td>The initial pulse width of the signal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00251">251</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga65065da1fe04c0fa3f48d05ee6b7646d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupPWM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for PWM mode. </p>
<p>The given timer number <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4" title="Main timers available on the MCU. ">timer_main</a> is now locked to this or pulse mode.</p>
<p>All channels of this timer can only be used for PWM of Pulse width output. Each channel must also share the same frequency. However each channel can be turned on and off</p>
<p>The frequency of the PWM waveform is determined by the clock frequency as follows:</p>
<table class="doxtable">
<tr>
<th>F_CPU </th><th align="center">Frequency  </th></tr>
<tr>
<td>9.6MHz </td><td align="center">37.5kHz </td></tr>
<tr>
<td>4.8MHz </td><td align="center">18.75kHz </td></tr>
<tr>
<td>1.2MHz </td><td align="center">4.69kHz </td></tr>
<tr>
<td>0.6MHz </td><td align="center">2.3kHz </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup (not used) </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. </td></tr>
    <tr><td class="paramname">frequency</td><td>The frequency of the signal. (not used) </td></tr>
    <tr><td class="paramname">duty</td><td>The initial duty cycle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="attiny13a__timer_8c_source.html#l00220">220</a> of file <a class="el" href="attiny13a__timer_8c_source.html">attiny13a_timer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
