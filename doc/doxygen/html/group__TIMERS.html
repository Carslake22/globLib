<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GlobLib: TIMERS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GlobLib
   </div>
   <div id="projectbrief">HAL and API libraries for MCUs and hardware.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__TIMERS.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TIMERS<div class="ingroups"><a class="el" href="group__STM32F103.html">STM32F103</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains low level functions for timer interaction.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:stm32f1x3__timer_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32f1x3__timer_8h.html">stm32f1x3_timer.h</a></td></tr>
<tr class="memdesc:stm32f1x3__timer_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for stm32f103 timers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga90028e095f2a7a5490b5e10109bb18c4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> <tr class="memdesc:ga90028e095f2a7a5490b5e10109bb18c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main timers available on the MCU.  <a href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga90028e095f2a7a5490b5e10109bb18c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59cf27ab194b377006b4dc9086df6328"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> <tr class="memdesc:ga59cf27ab194b377006b4dc9086df6328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timers channels available for each timer.  <a href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga59cf27ab194b377006b4dc9086df6328"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac7781ad7cf43266a7232e0b8155e0f12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gac7781ad7cf43266a7232e0b8155e0f12">TIMER_setupCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint32_t frequency, void(*handler)(void))</td></tr>
<tr class="memdesc:gac7781ad7cf43266a7232e0b8155e0f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for standard count with interrupt on timeout.  <a href="#gac7781ad7cf43266a7232e0b8155e0f12">More...</a><br /></td></tr>
<tr class="separator:gac7781ad7cf43266a7232e0b8155e0f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel)</td></tr>
<tr class="memdesc:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for input capture.  <a href="#ga7ea715ab00d0aea426e3cf07e2ef2d90">More...</a><br /></td></tr>
<tr class="separator:ga7ea715ab00d0aea426e3cf07e2ef2d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3aa854e71cf6ff6f3a963d5f17f4cee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga3aa854e71cf6ff6f3a963d5f17f4cee4">TIMER_setupPWM</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel, uint32_t frequency, uint8_t duty)</td></tr>
<tr class="memdesc:ga3aa854e71cf6ff6f3a963d5f17f4cee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for PWM mode.  <a href="#ga3aa854e71cf6ff6f3a963d5f17f4cee4">More...</a><br /></td></tr>
<tr class="separator:ga3aa854e71cf6ff6f3a963d5f17f4cee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4a835ca658982bccdec17eb0a2fa658"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaa4a835ca658982bccdec17eb0a2fa658">TIMER_setupPulse</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> timerChannel, uint32_t frequency, uint32_t pulse)</td></tr>
<tr class="memdesc:gaa4a835ca658982bccdec17eb0a2fa658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize given timer for Pulse mode.  <a href="#gaa4a835ca658982bccdec17eb0a2fa658">More...</a><br /></td></tr>
<tr class="separator:gaa4a835ca658982bccdec17eb0a2fa658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaf92f9f10d48017bdd5d0e651f95083f5">TIMER_setPeriod</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint32_t period)</td></tr>
<tr class="memdesc:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the period for the timer. (in microseconds)  <a href="#gaf92f9f10d48017bdd5d0e651f95083f5">More...</a><br /></td></tr>
<tr class="separator:gaf92f9f10d48017bdd5d0e651f95083f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5106c2365c27a31ca576488f0c14f2e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga5106c2365c27a31ca576488f0c14f2e8">TIMER_setFrequency</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint32_t frequency)</td></tr>
<tr class="memdesc:ga5106c2365c27a31ca576488f0c14f2e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the frequency for the timer. (in hertz)  <a href="#ga5106c2365c27a31ca576488f0c14f2e8">More...</a><br /></td></tr>
<tr class="separator:ga5106c2365c27a31ca576488f0c14f2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae74c59768daded4fb2c42ffc74020ce6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel, uint8_t duty)</td></tr>
<tr class="memdesc:gae74c59768daded4fb2c42ffc74020ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the duty cycle for the waveform (PWM only, 0 - 100%).  <a href="#gae74c59768daded4fb2c42ffc74020ce6">More...</a><br /></td></tr>
<tr class="separator:gae74c59768daded4fb2c42ffc74020ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f11a3aa331a18263ca097048a25e4d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga5f11a3aa331a18263ca097048a25e4d2">TIMER_setPulse</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel, uint32_t pulse)</td></tr>
<tr class="memdesc:ga5f11a3aa331a18263ca097048a25e4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the pulse width for the output. (in microseconds)  <a href="#ga5f11a3aa331a18263ca097048a25e4d2">More...</a><br /></td></tr>
<tr class="separator:ga5f11a3aa331a18263ca097048a25e4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f56c9082abddf331d92e575716bfacb"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga0f56c9082abddf331d92e575716bfacb">TIMER_getCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga0f56c9082abddf331d92e575716bfacb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current value of a running timer.  <a href="#ga0f56c9082abddf331d92e575716bfacb">More...</a><br /></td></tr>
<tr class="separator:ga0f56c9082abddf331d92e575716bfacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab42d60021481812bb47470d0ca09af6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gab42d60021481812bb47470d0ca09af6c">TIMER_setCount</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, uint16_t count)</td></tr>
<tr class="memdesc:gab42d60021481812bb47470d0ca09af6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current value of a running timer.  <a href="#gab42d60021481812bb47470d0ca09af6c">More...</a><br /></td></tr>
<tr class="separator:gab42d60021481812bb47470d0ca09af6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab39a07fc41d00ec344ab35b28d917c9a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a> channel)</td></tr>
<tr class="memdesc:gab39a07fc41d00ec344ab35b28d917c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last input capture time from a channel of a timer.  <a href="#gab39a07fc41d00ec344ab35b28d917c9a">More...</a><br /></td></tr>
<tr class="separator:gab39a07fc41d00ec344ab35b28d917c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gafa1edd534d18507fb4df3ee3c7b5d644">TIMER_enableISR</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber, void(*handler)(void))</td></tr>
<tr class="memdesc:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ISR target for timeout.  <a href="#gafa1edd534d18507fb4df3ee3c7b5d644">More...</a><br /></td></tr>
<tr class="separator:gafa1edd534d18507fb4df3ee3c7b5d644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#gaf8d5d279b1747f3baf8b1940a3d2f6e4">TIMER_disableISR</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the timeout IRQ.  <a href="#gaf8d5d279b1747f3baf8b1940a3d2f6e4">More...</a><br /></td></tr>
<tr class="separator:gaf8d5d279b1747f3baf8b1940a3d2f6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga4e9fa1f6cfe1ea93ca8910edc941763d">TIMER_pause</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause an already running timer.  <a href="#ga4e9fa1f6cfe1ea93ca8910edc941763d">More...</a><br /></td></tr>
<tr class="separator:ga4e9fa1f6cfe1ea93ca8910edc941763d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga302899b48a9a8647586d1d779d7f762c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMERS.html#ga302899b48a9a8647586d1d779d7f762c">TIMER_resume</a> (<a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a> timerNumber)</td></tr>
<tr class="memdesc:ga302899b48a9a8647586d1d779d7f762c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a paused timer.  <a href="#ga302899b48a9a8647586d1d779d7f762c">More...</a><br /></td></tr>
<tr class="separator:ga302899b48a9a8647586d1d779d7f762c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains low level functions for timer interaction. </p>
<p>The STM32F1x3 has four timers, each with four compare/capture channels.</p>
<p>Each timer can be configured to a different function, however each channel of that timer should have the same function. Exceptions are:</p>
<p>A timer can have PWM and pulse outputs on different channels as long as the frequency is the same. The ISR of the output timers, (PWM, pulse) can be targeted to function calls. The ISR will trigger at the same frequency as the timer.</p>
<p>The resolution of the base timer is set as:</p>
<ul>
<li>period &lt;= 65535 -&gt; 1 microsecond resolution</li>
<li>period &lt;= 655350 -&gt; 10 microsecond resolution</li>
<li>period &lt;= 6553500 -&gt; 100 microsecond resolution</li>
</ul>
<p>The period is modified with <a class="el" href="group__TIMERS.html#gaf92f9f10d48017bdd5d0e651f95083f5" title="Set the period for the timer. (in microseconds) ">TIMER_setPeriod()</a></p>
<p>Timer output/input channels are mapped to:</p>
<ul>
<li>Timer 1<ul>
<li>Channel 1 - PORT A, PIN 8</li>
<li>Channel 2 - PORT A, PIN 9</li>
<li>Channel 3 - PORT A, PIN 10</li>
<li>Channel 4 - PORT A, PIN 11</li>
</ul>
</li>
<li>Timer 2<ul>
<li>Channel 1 - PORT A, PIN 0</li>
<li>Channel 2 - PORT A, PIN 1</li>
<li>Channel 3 - PORT A, PIN 2</li>
<li>Channel 4 - PORT A, PIN 3</li>
</ul>
</li>
<li>Timer 3<ul>
<li>Channel 1 - PORT A, PIN 6</li>
<li>Channel 2 - PORT A, PIN 7</li>
<li>Channel 3 - PORT B, PIN 0</li>
<li>Channel 4 - PORT B, PIN 1</li>
</ul>
</li>
<li>Timer 4<ul>
<li>Channel 1 - PORT B, PIN 6</li>
<li>Channel 2 - PORT B, PIN 7</li>
<li>Channel 3 - PORT B, PIN 8</li>
<li>Channel 4 - PORT B, PIN 9</li>
</ul>
</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Stuart Ianna </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 2018 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU GPLv3 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>None </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000027">Bug:</a></b></dt><dd>None </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd></dd></dl>
<dl class="section user"><dt>Verified Compilers</dt><dd><ul>
<li>arm-none-eabi-gcc (15:4.9.3+svn231177-1) 4.9.3 20150529 (prerelease)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Working example</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="stm32f1x3__core_8h.html">stm32f1x3_core.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="coms128_8h.html">coms128.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> up(<span class="keywordtype">void</span>);</div><div class="line"><span class="keyword">volatile</span> uint8_t flag;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    <span class="comment">//Clock setup</span></div><div class="line">    <a class="code" href="group__CLOCK.html#ga1c0fb75e4c7de12f534ad46014d35611">CLOCK_setSpeed</a>(<a class="code" href="group__CLOCK.html#gga40243a242aa3fc9a23d8555457058312aae437411fac0d0b39e98fdc40b0a6e6a">CLOCK_EX_8_OUT_72</a>);</div><div class="line"></div><div class="line">    <span class="comment">//Serial setup</span></div><div class="line">    <a class="code" href="group__USART.html#ga98048cff4a74b10ceb5e1112c5de1f1f">USART_setup</a>(<a class="code" href="group__USART.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12a474c11c7630596744eb30ecfc8731838">USART_2</a>);</div><div class="line">    <a class="code" href="group__USART.html#ga45dc7ef6b04acd0fdb33169bc662a492">USART_setBaud</a>(<a class="code" href="group__USART.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12a474c11c7630596744eb30ecfc8731838">USART_2</a>,<a class="code" href="group__USART.html#gga94d1941d1c4b7d8c9caf52cbc8bd75abab8872f766b21a4fb82167eb0f4bba481">USART_BAUD_115200</a>);</div><div class="line">    <a class="code" href="group__COMS128.html#ga9c1b6e9fdaee3685f707535f07641270">COMS</a>(<a class="code" href="group__USART.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12a474c11c7630596744eb30ecfc8731838">USART_2</a>);</div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 3 to call function &quot;up&quot; at 10Hz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gac7781ad7cf43266a7232e0b8155e0f12">TIMER_setupCount</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aaf4aeec4d2bfbd5de2fcec6739e1e5a9">TIMER_3</a>,20,&amp;up);               <span class="comment">//Period = 50000 -&gt; Resolution = 1us</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 1 for pulse width output at 1000Hz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gaa4a835ca658982bccdec17eb0a2fa658">TIMER_setupPulse</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5">TIMER_1</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,1000,400);   <span class="comment">//400us pulse</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gaa4a835ca658982bccdec17eb0a2fa658">TIMER_setupPulse</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5">TIMER_1</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,1000,50);    <span class="comment">//50us pulse</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer 2 for PWM at 10kHz</span></div><div class="line">    <a class="code" href="group__TIMERS.html#ga3aa854e71cf6ff6f3a963d5f17f4cee4">TIMER_setupPWM</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a86f5987be452599d06a5d8f47a454d2b">TIMER_2</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,10000,50);     <span class="comment">//50% duty cycle</span></div><div class="line"></div><div class="line">    <span class="comment">//Setup timer four for input capture</span></div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328afb6358d40166b655c07980a11b642dcf">CHANNEL_3</a>);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90">TIMER_setupIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328a19bf6b04e344dd935d536d6598898642">CHANNEL_4</a>);</div><div class="line"></div><div class="line">    <span class="comment">//Change duty cycle and pulse output</span></div><div class="line">    <a class="code" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5">TIMER_1</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>,80);</div><div class="line">    <a class="code" href="group__TIMERS.html#ga5f11a3aa331a18263ca097048a25e4d2">TIMER_setPulse</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5">TIMER_1</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,100);</div><div class="line">    <a class="code" href="group__TIMERS.html#gae74c59768daded4fb2c42ffc74020ce6">TIMER_setDuty</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5">TIMER_1</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>,10);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1){</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(flag){</div><div class="line"></div><div class="line">            flag = 0;</div><div class="line"></div><div class="line">            <span class="comment">//Time how long it takes to compete print function with TIMER_3</span></div><div class="line">            <a class="code" href="group__TIMERS.html#gab42d60021481812bb47470d0ca09af6c">TIMER_setCount</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aaf4aeec4d2bfbd5de2fcec6739e1e5a9">TIMER_3</a>,0);</div><div class="line"></div><div class="line">            <span class="comment">//Print input capture values</span></div><div class="line">            <a class="code" href="group__String11.html#gad5bdf0ae6e943f32dba14b622571f74f">printt</a>(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075">CHANNEL_1</a>));</div><div class="line">            <a class="code" href="group__String11.html#gad5bdf0ae6e943f32dba14b622571f74f">printt</a>(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91">CHANNEL_2</a>));</div><div class="line">            <a class="code" href="group__String11.html#gad5bdf0ae6e943f32dba14b622571f74f">printt</a>(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328afb6358d40166b655c07980a11b642dcf">CHANNEL_3</a>));</div><div class="line">            <a class="code" href="group__String11.html#gad5bdf0ae6e943f32dba14b622571f74f">printt</a>(<a class="code" href="group__TIMERS.html#gab39a07fc41d00ec344ab35b28d917c9a">TIMER_getIC</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918">TIMER_4</a>,<a class="code" href="group__TIMERS.html#gga59cf27ab194b377006b4dc9086df6328a19bf6b04e344dd935d536d6598898642">CHANNEL_4</a>));</div><div class="line"></div><div class="line">            <a class="code" href="group__String11.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<a class="code" href="group__TIMERS.html#ga0f56c9082abddf331d92e575716bfacb">TIMER_getCount</a>(<a class="code" href="group__TIMERS.html#gga90028e095f2a7a5490b5e10109bb18c4aaf4aeec4d2bfbd5de2fcec6739e1e5a9">TIMER_3</a>)); <span class="comment">//Printing the time difference</span></div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//This is called by TIMER_3 on timeout</span></div><div class="line"><span class="keywordtype">void</span> up(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    flag = 1;</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga59cf27ab194b377006b4dc9086df6328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timers channels available for each timer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328adf896c664dde68aea03c05d2097af075"></a>CHANNEL_1&#160;</td><td class="fielddoc">
<p>Channel 1. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328aee22a400618eb3e95f039a401ced4e91"></a>CHANNEL_2&#160;</td><td class="fielddoc">
<p>Channel 2. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328afb6358d40166b655c07980a11b642dcf"></a>CHANNEL_3&#160;</td><td class="fielddoc">
<p>Channel 3. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga59cf27ab194b377006b4dc9086df6328a19bf6b04e344dd935d536d6598898642"></a>CHANNEL_4&#160;</td><td class="fielddoc">
<p>Channel 4. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8h_source.html#l00099">99</a> of file <a class="el" href="stm32f1x3__timer_8h_source.html">stm32f1x3_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga90028e095f2a7a5490b5e10109bb18c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main timers available on the MCU. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga90028e095f2a7a5490b5e10109bb18c4a0be6ca9f568d9237d83970c13199f4b5"></a>TIMER_1&#160;</td><td class="fielddoc">
<p>Timer 1. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga90028e095f2a7a5490b5e10109bb18c4a86f5987be452599d06a5d8f47a454d2b"></a>TIMER_2&#160;</td><td class="fielddoc">
<p>Timer 2. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga90028e095f2a7a5490b5e10109bb18c4aaf4aeec4d2bfbd5de2fcec6739e1e5a9"></a>TIMER_3&#160;</td><td class="fielddoc">
<p>Timer 3. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga90028e095f2a7a5490b5e10109bb18c4aca1126b4e9f41e162ee515184c753918"></a>TIMER_4&#160;</td><td class="fielddoc">
<p>Timer 4. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8h_source.html#l00088">88</a> of file <a class="el" href="stm32f1x3__timer_8h_source.html">stm32f1x3_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf8d5d279b1747f3baf8b1940a3d2f6e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_disableISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the timeout IRQ. </p>
<p>This disables any previous use of timeout interrupts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00751">751</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafa1edd534d18507fb4df3ee3c7b5d644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_enableISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ISR target for timeout. </p>
<p>This feature can be used for Count, Pulse and PWM modes. Function is called on timeout event recursivly until <a class="el" href="group__TIMERS.html#gaf8d5d279b1747f3baf8b1940a3d2f6e4" title="Disable the timeout IRQ. ">TIMER_disableISR()</a> is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">handler</td><td>The function to call on timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00696">696</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0f56c9082abddf331d92e575716bfacb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TIMER_getCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current value of a running timer. </p>
<p>This function returns the current value of the timer. The resolution of this value is detailed in module outline.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current value of the timer. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02119">2119</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab39a07fc41d00ec344ab35b28d917c9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TIMER_getIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last input capture time from a channel of a timer. </p>
<p>The timer must be setup with <a class="el" href="group__TIMERS.html#ga7ea715ab00d0aea426e3cf07e2ef2d90" title="Initialize given timer for input capture. ">TIMER_setupIC()</a> for this function to work.</p>
<p>This function returns zero if no capture has occured within the last period. (Around 63ms). This value could be increased by setting a larger period with <a class="el" href="group__TIMERS.html#gaf92f9f10d48017bdd5d0e651f95083f5" title="Set the period for the timer. (in microseconds) ">TIMER_setPeriod()</a>. This however would scale up the value retuned by 10 or 100, as outlined in the module description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The timer chanel to modify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The last input capture time in microseconds </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l01442">1442</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e9fa1f6cfe1ea93ca8910edc941763d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_pause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause an already running timer. </p>
<p>The timer must have been already setup to use this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00825">825</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga302899b48a9a8647586d1d779d7f762c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume a paused timer. </p>
<p>The timer must have been already setup and paused.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00859">859</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab42d60021481812bb47470d0ca09af6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current value of a running timer. </p>
<p>The resolution of this value is detailed in module outline.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">count</td><td>The timer value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current value of the timer. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02154">2154</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae74c59768daded4fb2c42ffc74020ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setDuty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the duty cycle for the waveform (PWM only, 0 - 100%). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The timer chanel to modify </td></tr>
    <tr><td class="paramname">duty</td><td>The desired duty cycle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02382">2382</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5106c2365c27a31ca576488f0c14f2e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the frequency for the timer. (in hertz) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">frequency</td><td>The desired timeout frequency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PERIOD if the period is too long </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02344">2344</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf92f9f10d48017bdd5d0e651f95083f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setPeriod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the period for the timer. (in microseconds) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">period</td><td>The desired timeout period. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PERIOD if the period is too long </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02193">2193</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f11a3aa331a18263ca097048a25e4d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setPulse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the pulse width for the output. (in microseconds) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to modify </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The timer chanel to modify </td></tr>
    <tr><td class="paramname">pulse</td><td>The desired pulse width. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist E_TIMER_PULSE if the pulse is too long </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l02653">2653</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac7781ad7cf43266a7232e0b8155e0f12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for standard count with interrupt on timeout. </p>
<p>This mode triggers an ISR on timeout. This function can be impemented for any timer by using TIMER_setISR(), however the frequency will be set to the frequency of the already used timer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup </td></tr>
    <tr><td class="paramname">handler</td><td>The function to call on timeout event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l01001">1001</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ea715ab00d0aea426e3cf07e2ef2d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for input capture. </p>
<p>This supports input capture up for pulses up to 50ms long.</p>
<p>This function utalizes the ISR for the timer, this means that the ISR cannnot be target to an external function using <a class="el" href="group__TIMERS.html#gafa1edd534d18507fb4df3ee3c7b5d644" title="Set the ISR target for timeout. ">TIMER_enableISR()</a>;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00897">897</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4a835ca658982bccdec17eb0a2fa658"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupPulse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for Pulse mode. </p>
<p>The given timer number <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4" title="Main timers available on the MCU. ">timer_main</a> is now locked to this pulse or PWM modes.</p>
<p>All channels of this timer can only be used for pulse of PWM. Each channel must also share the same frequency. However each channel can be turned on and off</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. </td></tr>
    <tr><td class="paramname">period</td><td>The period of the total time. </td></tr>
    <tr><td class="paramname">pulse</td><td>The initial pulse width of the signal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00967">967</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3aa854e71cf6ff6f3a963d5f17f4cee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c">mcu_error</a> TIMER_setupPWM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4">timer_main</a>&#160;</td>
          <td class="paramname"><em>timerNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMERS.html#ga59cf27ab194b377006b4dc9086df6328">timer_channel</a>&#160;</td>
          <td class="paramname"><em>timerChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize given timer for PWM mode. </p>
<p>The given timer number <a class="el" href="group__TIMERS.html#ga90028e095f2a7a5490b5e10109bb18c4" title="Main timers available on the MCU. ">timer_main</a> is now locked to this or pulse mode.</p>
<p>All channels of this timer can only be used for PWM of Pulse width output. Each channel must also share the same frequency. However each channel can be turned on and off</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timerNumber</td><td>The timer number to setup </td></tr>
    <tr><td class="paramname">timerChannel</td><td>The channel of that timer to use. </td></tr>
    <tr><td class="paramname">frequncy</td><td>The frequncy of the signal. </td></tr>
    <tr><td class="paramname">duty</td><td>The initial duty cycle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error number as defined in <a class="el" href="group__DEBUG.html#ga90d6d08ec193c9751b20ce1d143b7f3c" title="Error enumerators for the Debug peripheral. ">mcu_error</a>, E_TIMER_NOERROR if no error, E_TIMER_PORT if port doesn't exist </dd></dl>

<p>Definition at line <a class="el" href="stm32f1x3__timer_8c_source.html#l00934">934</a> of file <a class="el" href="stm32f1x3__timer_8c_source.html">stm32f1x3_timer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
