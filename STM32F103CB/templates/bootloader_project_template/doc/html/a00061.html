<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Project: POWER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00061.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">POWER<div class="ingroups"><a class="el" href="a00052.html">STM32F103CB</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains low level functions for power configuration.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for POWER:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00061.png" border="0" alt="" usemap="#a00061"/>
<map name="a00061" id="a00061">
<area shape="rect" id="node2" href="a00052.html" title="STM32F103CB" alt="" coords="5,5,117,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a00035"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html">stm32f103cb_power.h</a></td></tr>
<tr class="memdesc:a00035"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for stm32f103cb Power. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5c14c17542f9356adb546481afcfe5ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5c14c17542f9356adb546481afcfe5ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#ga5c14c17542f9356adb546481afcfe5ef">POWER_reset</a> (void)</td></tr>
<tr class="memdesc:ga5c14c17542f9356adb546481afcfe5ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the system. <br /></td></tr>
<tr class="separator:ga5c14c17542f9356adb546481afcfe5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e596249445e0f8338778443f60cb84c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#ga6e596249445e0f8338778443f60cb84c">POWER_sleep</a> (void)</td></tr>
<tr class="memdesc:ga6e596249445e0f8338778443f60cb84c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the system in sleep mode.  <a href="#ga6e596249445e0f8338778443f60cb84c">More...</a><br /></td></tr>
<tr class="separator:ga6e596249445e0f8338778443f60cb84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6180f9817fd3b2778add05c17bf25443"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#ga6180f9817fd3b2778add05c17bf25443">POWER_noSleep</a> (void)</td></tr>
<tr class="memdesc:ga6180f9817fd3b2778add05c17bf25443"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable sleep mode.  <a href="#ga6180f9817fd3b2778add05c17bf25443">More...</a><br /></td></tr>
<tr class="separator:ga6180f9817fd3b2778add05c17bf25443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad12994e45df5209907a0eaffb026938d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#gad12994e45df5209907a0eaffb026938d">POWER_standby</a> (void)</td></tr>
<tr class="memdesc:gad12994e45df5209907a0eaffb026938d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the device into standby mode.  <a href="#gad12994e45df5209907a0eaffb026938d">More...</a><br /></td></tr>
<tr class="separator:gad12994e45df5209907a0eaffb026938d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fed62b697359172f233b04cb0556b76"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#ga2fed62b697359172f233b04cb0556b76">POWER_fromStandby</a> (void)</td></tr>
<tr class="memdesc:ga2fed62b697359172f233b04cb0556b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the system is restarting from standby mode.  <a href="#ga2fed62b697359172f233b04cb0556b76">More...</a><br /></td></tr>
<tr class="separator:ga2fed62b697359172f233b04cb0556b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed4b032efc52117ed030bf29f92853f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#gaed4b032efc52117ed030bf29f92853f1">POWER_stop</a> (void)</td></tr>
<tr class="memdesc:gaed4b032efc52117ed030bf29f92853f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the device into stop mode.  <a href="#gaed4b032efc52117ed030bf29f92853f1">More...</a><br /></td></tr>
<tr class="separator:gaed4b032efc52117ed030bf29f92853f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabce542c93fb876aa9a2616984db8eafc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00061.html#gabce542c93fb876aa9a2616984db8eafc">POWER_fromStop</a> (void)</td></tr>
<tr class="memdesc:gabce542c93fb876aa9a2616984db8eafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if MCU was in stop mode and reset flags.  <a href="#gabce542c93fb876aa9a2616984db8eafc">More...</a><br /></td></tr>
<tr class="separator:gabce542c93fb876aa9a2616984db8eafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains low level functions for power configuration. </p>
<p>There are four power modes that the MCU can operate in. Each proceeding mode has a lower power consumption but higher restart time.</p><ul>
<li>Normal, This is the default state, every works as usual</li>
<li>Sleep, The clock is stalled, all NVIC functions remain, pin setings held in current state any ISR routine will fire and execute, RAM contents preserved. This mode can be disabled by using <a class="el" href="a00061.html#ga6180f9817fd3b2778add05c17bf25443" title="Disable sleep mode. ">POWER_noSleep()</a> in any ISR.</li>
<li>Stop, The clock is stalled, all perihperal clock stopped (not RTC). Only EXTI (external pin) interrupts enabled. RAM contents preserved, program counter preserved. When this mode is exited all peripherals need to be set up again.</li>
<li>Standby, All clocks and perihperals stopped, external pins set as floating, RAM contents lost, program counter lost. System can only be woken by RTC alarm or rising edge on PA1. On wakeup the system is as from reset state.</li>
</ul>
<p>This module also contains the hard fault handler. In its implementation, the handler determines if the bootloader is being used (Data register 1 of the backup domain = 1) and resets to boot mode.</p>
<p>If the bootloader is not being used, the system simply stalls.</p>
<dl class="section author"><dt>Author</dt><dd>Stuart Ianna </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>July 2018 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU GPLv3 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>None </dd></dl>
<dl class="bug"><dt><b><a class="el" href="a00001.html#_bug000018">Bug:</a></b></dt><dd></dd></dl>
<dl class="todo"><dt><b><a class="el" href="a00002.html#_todo000009">Todo:</a></b></dt><dd></dd></dl>
<dl class="section user"><dt>Compilers</dt><dd><ul>
<li>arm-none-eabi-gcc (15:4.9.3+svn231177-1) 4.9.3 20150529 (prerelease)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example Usage</dt><dd></dd></dl>
<p>This program works over USART_1. It provides four options which can be selected through terminal.</p><ul>
<li>1 But the system in sleep mode, wake up in 3 seconds using systick ISR</li>
<li>2 Put the system in stop mode, wake up with rising edge on PA0</li>
<li>3 Put the system in standby mode, wake up in 3 seconds using RTC alarm</li>
<li>4 Reset the sytem.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="a00023.html">stm32f103cb_core.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="a00009.html">coms128.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> data(uint8_t byte);</div><div class="line"><span class="keyword">volatile</span> uint8_t flag;</div><div class="line"><span class="keywordtype">void</span> callback(<span class="keywordtype">void</span>);</div><div class="line"><span class="keywordtype">void</span> rising(<span class="keywordtype">void</span>);</div><div class="line"><span class="keywordtype">void</span> systemInit(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    systemInit();</div><div class="line"></div><div class="line">    <span class="comment">//RTC runs in stop mode</span></div><div class="line">    <span class="comment">//It only gets set up once</span></div><div class="line">    <a class="code" href="a00062.html#gae57375dd50be117c52297d4206a02a70">RTC_setup</a>(100);</div><div class="line">    <a class="code" href="a00062.html#ga29e80054eac721108b89d2ffcd0281a7">RTC_calibrate</a>(100);</div><div class="line"></div><div class="line">    <span class="comment">//Display method of reset</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="a00061.html#ga2fed62b697359172f233b04cb0556b76">POWER_fromStandby</a>()){</div><div class="line"></div><div class="line">        <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Standby reset&quot;</span>);</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span>{</div><div class="line"></div><div class="line">        <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Soft reset&quot;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>(1){</div><div class="line"></div><div class="line">        <span class="keywordflow">switch</span>(flag){</div><div class="line"></div><div class="line">            <span class="keywordflow">case</span> 1:</div><div class="line"></div><div class="line">                flag = 0;</div><div class="line">                <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Sleeping, wake on systick ISR&quot;</span>);</div><div class="line">                <a class="code" href="a00055.html#ga795a9547c5991bc0abe67d28618befb1">delayms</a>(100);           <span class="comment">//Delay for message to print.</span></div><div class="line">                <a class="code" href="a00064.html#gaafba91666a34a65bf0e02d20a85aca0a">SYSTICK_setup</a>(3000000,&amp;callback);   <span class="comment">//3 seconds</span></div><div class="line">                <a class="code" href="a00061.html#ga6e596249445e0f8338778443f60cb84c">POWER_sleep</a>();</div><div class="line">                <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Woke from sleep&quot;</span>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">            <span class="keywordflow">case</span> 2:</div><div class="line"></div><div class="line">                flag = 0;</div><div class="line">                <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Stoping, wake on EXTI ISR&quot;</span>);</div><div class="line">                <a class="code" href="a00055.html#ga795a9547c5991bc0abe67d28618befb1">delayms</a>(100);           <span class="comment">//Delay for message to print.</span></div><div class="line">                <a class="code" href="a00062.html#ga7990d735a7d99cf8db3b124679d14482">RTC_enableAlarmISR</a>(<a class="code" href="a00062.html#gab02af75654cc95da39769764d48c0328">RTC_getCount</a>() + 30,NULL);</div><div class="line">                <a class="code" href="a00061.html#gaed4b032efc52117ed030bf29f92853f1">POWER_stop</a>();</div><div class="line">                <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Woke from stop&quot;</span>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            <span class="keywordflow">case</span> 3:</div><div class="line"></div><div class="line">                flag = 0;</div><div class="line">                <a class="code" href="a00073.html#ga327fc45db81e4959673d04975a4d49d4">printl</a>(<span class="stringliteral">&quot;Standby, wake after 3 seconds&quot;</span>);</div><div class="line">                <a class="code" href="a00055.html#ga795a9547c5991bc0abe67d28618befb1">delayms</a>(100);           <span class="comment">//Delay for message to print.</span></div><div class="line"></div><div class="line">                <span class="comment">//Standby wakes from RTC alarm</span></div><div class="line">                <a class="code" href="a00062.html#ga7990d735a7d99cf8db3b124679d14482">RTC_enableAlarmISR</a>(<a class="code" href="a00062.html#gab02af75654cc95da39769764d48c0328">RTC_getCount</a>() + 30,NULL); </div><div class="line">                <a class="code" href="a00061.html#gad12994e45df5209907a0eaffb026938d">POWER_standby</a>();</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            <span class="keywordflow">default</span>:</div><div class="line">                <span class="comment">//Do nothing</span></div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//Chosse which power mode to use</span></div><div class="line"></div><div class="line"><span class="comment">// 1 = Sleep</span></div><div class="line"><span class="comment">// 2 = Stop</span></div><div class="line"><span class="comment">// 3 = Standby</span></div><div class="line"><span class="comment">// 4 = Reset</span></div><div class="line"><span class="keywordtype">void</span> data(uint8_t byte){</div><div class="line"></div><div class="line">    <span class="keywordflow">switch</span>(byte){</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div><div class="line"></div><div class="line">            flag = 1;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div><div class="line"></div><div class="line">            flag = 2;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div><div class="line"></div><div class="line">            flag = 3;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div><div class="line"></div><div class="line">            <a class="code" href="a00061.html#ga5c14c17542f9356adb546481afcfe5ef">POWER_reset</a>();</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line"></div><div class="line">            <span class="comment">//Echo characters</span></div><div class="line">            <a class="code" href="a00073.html#ga3908078f850fc5ac5e8f96b1d94556cc">print</a>((<span class="keywordtype">char</span>)byte);</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//Systick callback to wake from sleep mode</span></div><div class="line"><span class="keywordtype">void</span> callback(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    <span class="comment">//Disable sleep mode</span></div><div class="line">    <span class="comment">//If not disabled sleep mode begins again after ISR</span></div><div class="line">    <a class="code" href="a00061.html#ga6180f9817fd3b2778add05c17bf25443">POWER_noSleep</a>();</div><div class="line"></div><div class="line">    <span class="comment">//Stop the timer</span></div><div class="line">    <a class="code" href="a00064.html#gadad1ddea7c5acc826d176dcc1ba56b9a">SYSTICK_stop</a>();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//Rising edge on port A pin 0</span></div><div class="line"><span class="keywordtype">void</span> rising(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="a00061.html#gabce542c93fb876aa9a2616984db8eafc">POWER_fromStop</a>()){</div><div class="line"></div><div class="line">        systemInit();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> systemInit(<span class="keywordtype">void</span>){</div><div class="line"></div><div class="line">    <a class="code" href="a00066.html#ga98048cff4a74b10ceb5e1112c5de1f1f">USART_setup</a>(<a class="code" href="a00066.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12ad268e22914c93f6f39e46cc38ae21b2d">USART_1</a>);</div><div class="line">    <a class="code" href="a00066.html#ga45dc7ef6b04acd0fdb33169bc662a492">USART_setBaud</a>(<a class="code" href="a00066.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12ad268e22914c93f6f39e46cc38ae21b2d">USART_1</a>,<a class="code" href="a00066.html#gga94d1941d1c4b7d8c9caf52cbc8bd75abab8872f766b21a4fb82167eb0f4bba481">USART_BAUD_115200</a>);</div><div class="line">    <a class="code" href="a00066.html#ga3a356ecb9b76fd58de8f77b592e9fca6">USART_setRxISR</a>(<a class="code" href="a00066.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12ad268e22914c93f6f39e46cc38ae21b2d">USART_1</a>,&amp;data);</div><div class="line">    <a class="code" href="a00069.html#ga9c1b6e9fdaee3685f707535f07641270">COMS</a>(<a class="code" href="a00066.html#ggadd3d8e6b8b6b72b4d94db7edb989dc12ad268e22914c93f6f39e46cc38ae21b2d">USART_1</a>);</div><div class="line">    <a class="code" href="a00058.html#ga5dd4fc84282bb9c7f13bf17e9fac8856">GPIO_ISREnable</a>(<a class="code" href="a00058.html#gga6d50d8c4b17ff573c07340d4d7965bc1ae3201f6e0d0c1e138c60903276bb3859">PORTA</a>,<a class="code" href="a00058.html#gga6fd15ce64110e98b208bfe7a4ed33f52a302dbba83d47666da4b37e5a223105ec">PIN0</a>,<a class="code" href="a00058.html#ggadb0ba5a927279fae284e11d6cc1fcd07a5aa93b5cade41c8d41e61fbf69f3a2d7">GPIO_RISING</a>,&amp;rising);</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2fed62b697359172f233b04cb0556b76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t POWER_fromStandby </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the system is restarting from standby mode. </p>
<p>This should always be used if standby mode is used. This resets the standby wake flags. mode. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00099">99</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabce542c93fb876aa9a2616984db8eafc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t POWER_fromStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if MCU was in stop mode and reset flags. </p>
<p>This should always be used if stop mode is used. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00084">84</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6180f9817fd3b2778add05c17bf25443"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void POWER_noSleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable sleep mode. </p>
<p>This should be called inside an ISR. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00059">59</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6e596249445e0f8338778443f60cb84c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void POWER_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put the system in sleep mode. </p>
<p>ISR are still enabled. This mode can be exited by calling Power_noSleep() inside an ISR. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00053">53</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad12994e45df5209907a0eaffb026938d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void POWER_standby </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put the device into standby mode. </p>
<p>The RTC must be enabled with an alarm event to exit from standby mode. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00065">65</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaed4b032efc52117ed030bf29f92853f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void POWER_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put the device into stop mode. </p>
<p>The device needs to be woken with an EXTI interrupt or RTC alarm event. All clocks need to be reinitialized after stop mode. </p>

<p>Definition at line <a class="el" href="a00034_source.html#l00075">75</a> of file <a class="el" href="a00034_source.html">stm32f103cb_power.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 16 2018 18:26:54 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
